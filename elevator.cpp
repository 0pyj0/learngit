#include<stdio.h>
#include<math.h>
int main()
{
	int a[6],b[6],c[6],a1[6]={0},b1[6]={0},c1[6]={0},a2[6]={0},b2[6]={0},c2[6]={0},h[5]={0},i,j,t;
	int k=1,g=0,u=0,sum=0,sumz1=0,sumz2=0,sumz=0,sumc=0,sumc1=0,sumc2=0,m=0,v=0,n=0,w=0;
	for(i=1;i<=5;i++)
	{
		scanf("%d%d%d",&a[i],&b[i],&c[i]);//首先，输入是按照请求时刻的大小顺序输入的。 
	}
	a[0]=0;b[0]=1;c[0]=0;
	for(i=1;i<=5;i++)//判断是否为全上楼或全下楼。 
	sumc=sumc+c[i];
	for(i=0;i<5;i++)//判断初始时刻之差大于20的请求有几个。 
	{
		if((a[i+1]-a[i])>=20)
		{
			m++;
		}
	}
    if(m!=0&&m!=5)
    {
	    a[0]=0;b[0]=1;c[0]=0;
	    for(i=1;i<6;i++)//先把初始时刻之差小的乘客接到电梯中。
        {
        	v=0;
        	if(a[i]-a[i-1]<20) 
        	{
     	        if(a[i]<(b[i]+sum))
    	        {
    		        sum=sum+abs(b[i]-b[i-1])+1;
    		        printf("%d时，停靠在%d楼\n",sum-1,b[i]);
		        }
		        else
		        {
			        sum=sum+abs(a[i]-a[i-1])+1;
			        printf("%d时，停靠在%d楼\n",sum-1,b[i]);
		        }
		        u=b[i];
		        h[i]=a[i];
		        v=1;
		        n++;
		        sumc1=sumc1+c[i];
		    }
		    if(v==0)
		    break;
		}
		if(sumc1==0)
		{
		sum=sum+10-u+1;
		printf("%d时，停靠在10楼\n",sum-1);
	    }
		else if(sumc1==n)
		{
		sum=sum+u-1+1;
		printf("%d时，停靠在1楼\n",sum-1);
	    }
		else
		{
			sum=sum+u-1+1;
			printf("%d时，停靠在1楼\n",sum-1);
			sum=sum+10-1+1;
			printf("%d时，停靠在10楼\n",sum-1);
		}
		for(i=1;i<=5;i++)
		{
			if(a[i]==h[i])
			{
				sumz1=sumz1+sum-a[i]-1;
			}
		}
		w=sum;
		if(sumc1==n)
		    u=1;
		else
		    u=10;
		n=0;
	    for(i=1;i<6;i++)//把初始时刻之差大于二十的乘客接到电梯中。
		    {
		    	if(h[i]!=a[i])
		    	{
		        	if(v==0)
				    {
				    	v=1;
				    	sum=a[i];
				    }
		   			sum=sum+abs(u-b[i])+1;
		   		    printf("%d时，停靠在%d楼\n",sum-1,b[i]);
		   		    u=b[i];
		   		    sumc2=sumc2+c[i];
				    n++;
				}
			}
		if(sumc2==0)
		{
		sum=sum+10-u+1;
		printf("%d时，停靠在10楼\n",sum-1);
	    }
		else if(sumc2==n)
		{
		sum=sum+u-1+1;
		printf("%d时，停靠在1楼\n",sum-1);
	    }
		else
		{
			sum=sum+10-u+1;
			printf("%d时，停靠在10楼\n",sum-1);
			sum=sum+10-1+1;
			printf("%d时，停靠在1楼\n",sum-1);
		}
		for(i=1;i<=5;i++)
		{
			if(a[i]!=h[i])
			{
				sumz2=sumz2+sum-1-w-a[i];
			}
		}
		printf("%d",sumz1+sumz2);
	}
	else if(m==0)
	{
	    for(j=1;j<=5;j++)//按照楼层的顺序由小到大排列。
	    {
		    for(i=1;i<=5-j-1;i++) 
		    {
			   if(b[i]>b[i+1])
			   {
			    	t=b[i];b[i]=b[i+1];b[i+1]=t;
				    t=a[i];a[i]=a[i+1];a[i+1]=t;
				    t=c[i];c[i]=c[i+1];c[i+1]=t;
			    }
		    }
	    }
		for(i=0;i<5;i++)//把向上和向下的请求分到两个数组存储。 
     	{
		
	    	if(c[i]==0)
		    {
		        a1[k]=a[i];
		        b1[k]=b[i];
		        c1[k++]=c[i];
		     
		    }
		    else
		    {
			   a2[g]=a[i];
			   b2[g]=b[i];
			   c2[g++]=c[i];
		    }
		
	    }
	    if(sumc!=5)//保证一定有乘客上楼。 
        {
             a1[0]=0;b1[0]=1;c1[0]=0;
	         for(i=1;i<k;i++)//把上楼的乘客都送到10层。 
             {
    	          if(a1[i]<(b1[i]+sum))
    	          {
    		          sum=sum+abs(b1[i]-b1[i-1])+1;
    	  	          printf("%d时，停靠在%d楼\n",sum-1,b1[i]);
		          }
		          else
		          {
			           sum=sum+abs(b1[i]-b[i-1])+1;
			           printf("%d时，停靠在%d楼\n",sum-1,b1[i]);
		          }
	         }
	        sum=sum+10-b1[k-1]+1;
	        printf("%d时，停靠在10楼\n",sum-1);
	        for(i=1;i<k;i++)//计算将上楼的乘客送到目的楼层所用的时间。 
	        {
		        sumz1=sumz1+sum-a1[i]-1;
	        }
        }
	    if(sumc!=0)//保证一定有乘客下楼。 
	    {
	         a2[g]=sum;b2[g]=10;c2[g]=1;
	         for(i=g-1;i>=0;i--)//把下楼的乘客都送到1层 
	         {
		         if(a2[i]<(sum+10-b2[i]))
		         {
		             sum=sum+abs(b2[i+1]-b2[i])+1;
		             printf("%d时，停靠在%d楼\n",sum-1,b2[i]);
		         }
	 	         else
		         {
			         sum=sum+abs(b2[i]-b2[i+1])+1;
			         printf("%d时，停靠在%d楼\n",sum-1,b2[i]);
		         }
		
	         }
	         sum=sum+b2[0]-1;
	         printf("%d时，停靠在1楼\n",sum-1);
	         for(i=0;i<g;i++)//计算将下楼的乘客送到目的楼层所用的时间。
	         {
		        sumz2=sumz2+sum-a[g]-a2[i]-1;
	         }
         }
	     printf("%d",sumz1+sumz2); 
	}
	else
	{
		for(i=1;i<=5;i++)
		{
			if(c[i]==0)
			{
				sum=sum+abs(b[i]-b[i-1])+1;
				printf("%d时，停靠在%d楼\n",sum-1,b[i]);
				sum=sum+10-b[i]+1;
				printf("%d时，停靠在10楼\n",sum-1);
			}
			else 
			{
				sum=sum+abs(b[i]-b[i-1])+1;
				printf("%d时，停靠在%d楼\n",sum-1,b[i]);
				sum=sum+b[i]-1+1;
				printf("%d时，停靠在1楼\n",sum-1);
			}
		}
		for(i=1;i<=5;i++)
		{
			sumz=sumz+sum-1-a[i];
		}
		printf("%d",sumz);
	}
	return 0;
}
