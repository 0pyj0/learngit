#include<stdio.h>
#include<math.h>
int main()
{ 
	int a[6]={0},b[6]={0},c[6]={0},d[6],i,j,k=1,t,u,m,sumc=0,sumz=0,sum=0;
	a[0]=0;b[0]=1;c[0]=0;
	FILE *fpRead=fopen("input.txt","r");
	FILE *fpWrite=fopen("output.txt","w"); 
	for(i=1;i<=5;i++)//输入五个请求，判断每个乘客的方向， 
	{
		fscanf(fpRead,"%d %d %d",&a[i],&b[i],&c[i]);
		if(c[i]-b[i]>0)
		d[i]=0;
		else
		d[i]=1;
		sumc=sumc+d[i];
    }
    getchar();
    	for(j=1;j<=5;j++)//按照楼层的顺序由小到大排列。
	    {
		    for(i=1;i<=5-j-1;i++) 
		    {
			   if(b[i]>b[i+1])
			   {
			    	t=b[i];b[i]=b[i+1];b[i+1]=t;
				    t=a[i];a[i]=a[i+1];a[i+1]=t;
				    t=c[i];c[i]=c[i+1];c[i+1]=t;
			    }
		    }
	    }
    if(sumc!=1&&sumc!=0)
    {
	for(i=1;i<=5;i++)
	{
		if(d[i]==0)
		{
			if(a[i]<(sum+abs(b[i]-b[i-1])))
			{
				sum=sum+abs(b[i]-b[i-1])+1;
				fprintf(fpWrite,"%d时，停靠在%d楼\n",sum-1,b[i]);
			}
			else
			{
				sum=a[i]+1;
				fprintf(fpWrite,"%d时，停靠在%d楼\n",sum-1,b[i]);
			}
			m=b[i];
		}
	}
	for(i=1;i<=5;i++)
	{
		if(d[i]==0)
		{
			sum=sum+abs(m-c[i])+1;
			fprintf(fpWrite,"%d时，停靠在%d楼\n",sum-1,c[i]);
			m=c[i];
			sumz=sumz+sum-1-a[i];
		}
	} 
    for(i=1;i<=5;i++)
	{
		if(d[i]==1)
		{
			if(a[i]<(sum+abs(b[i]-m)))
			{
				sum=sum+abs(b[i]-m)+1;
				fprintf(fpWrite,"%d时，停靠在%d楼\n",sum-1,b[i]);
			}
			else
			{
				sum=a[i]+1;
				fprintf(fpWrite,"%d时，停靠在%d楼\n",sum-1,b[i]);
			}
			m=b[i];
		}
	}
	for(i=1;i<=5;i++)
	{
		if(d[i]==1)
		{
			sum=sum+abs(m-c[i])+1;
			fprintf(fpWrite,"%d时，停靠在%d楼\n",sum-1,c[i]);
			m=c[i];
			sumz=sumz+sum-1-a[i];
		}
	}
	fprintf(fpWrite,"%d",sumz);
    }
    else
    {
    	for(i=1;i<=5;i++)
    	{
    		if(a[i]<(sum+abs(b[i]-b[i-1])))
    		{
    			sum=sum+abs(b[i]-b[i-1])+1;
    			fprintf(fpWrite,"%d时，停靠在%d楼\n",sum-1,b[i]);
			}
			else
			{
				sum=a[i]+1;
				fprintf(fpWrite,"%d时，停靠在%d楼\n",sum-1,b[i]);
			}
			m=b[i];
		}
		for(i=5;i>=1;i--)
		{
			sum=sum+abs(m-c[i])+1;
			fprintf(fpWrite,"%d时，停靠在%d楼\n",sum-1,c[i]);
			sumz=sumz+abs(sum-1-a[i]);
		}
		fprintf(fpWrite,"%d",sumz);
	}
	return 0;
}
